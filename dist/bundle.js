!function(n){var e={};function t(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=n,t.c=e,t.d=function(n,e,i){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:i})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=51)}([function(n,e,t){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),l=function(n){var e={};return function(n){if("function"==typeof n)return n();if(void 0===e[n]){var t=function(n){return document.querySelector(n)}.call(this,n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}}(),s=null,c=0,d=[],f=t(33);function u(n,e){for(var t=0;t<n.length;t++){var i=n[t],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],e))}else{var l=[];for(a=0;a<i.parts.length;a++)l.push(b(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:l}}}}function p(n,e){for(var t=[],i={},r=0;r<n.length;r++){var o=n[r],a=e.base?o[0]+e.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(l):t.push(i[a]={id:a,parts:[l]})}return t}function h(n,e){var t=l(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===n.insertAt)i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),d.push(e);else if("bottom"===n.insertAt)t.appendChild(e);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(n.insertInto+" "+n.insertAt.before);t.insertBefore(e,r)}}function m(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=d.indexOf(n);e>=0&&d.splice(e,1)}function g(n){var e=document.createElement("style");return n.attrs.type="text/css",v(e,n.attrs),h(n,e),e}function v(n,e){Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])})}function b(n,e){var t,i,r,o;if(e.transform&&n.css){if(!(o=e.transform(n.css)))return function(){};n.css=o}if(e.singleton){var a=c++;t=s||(s=g(e)),i=w.bind(null,t,a,!1),r=w.bind(null,t,a,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(n){var e=document.createElement("link");return n.attrs.type="text/css",n.attrs.rel="stylesheet",v(e,n.attrs),h(n,e),e}(e),i=function(n,e,t){var i=t.css,r=t.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=f(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),l=n.href;n.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}.bind(null,t,e),r=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=g(e),i=function(n,e){var t=e.css,i=e.media;i&&n.setAttribute("media",i);if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,t),r=function(){m(t)});return i(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;i(n=e)}else r()}}n.exports=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var t=p(n,e);return u(t,e),function(n){for(var i=[],r=0;r<t.length;r++){var a=t[r];(l=o[a.id]).refs--,i.push(l)}n&&u(p(n,e),e);for(r=0;r<i.length;r++){var l;if(0===(l=i[r]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var x,y=(x=[],function(n,e){return x[n]=e,x.filter(Boolean).join("\n")});function w(n,e,t,i){var r=t?"":i.css;if(n.styleSheet)n.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=n.childNodes;a[e]&&n.removeChild(a[e]),a.length?n.insertBefore(o,a[e]):n.appendChild(o)}}},function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",i=n[3];if(!i)return t;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(n){return"/*# sourceURL="+i.sourceRoot+n+" */"});return[t].concat(o).concat([r]).join("\n")}var a;return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<n.length;r++){var a=n[r];"number"==typeof a[0]&&i[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),e.push(a))}},e}},function(n,e,t){t(19),angular.module("studyApp").component("appShare",{template:t(17),bindings:{data:"<",removeFile:"&",renameFile:"&",downloadedFile:"&",index:"=",showDetails:"&"},controller:function(){}})},function(n,e){n.exports='<main class="details-container">\n    <div class="container">\n        <div class="main-container">\n            <section class="details-info--file">\n                \n                <ul class="details-action-links">\n                    <li ng-bind="\'File name: \' + $ctrl.shareDetails.files[0].filename "></li>\n                    <li ng-bind="$ctrl.shareDetails.downloads + \' downloads\'"></li>\n                    <li>Created: <span ng-bind="$ctrl.shareDetails.created | dateFilter"></span></li>\n                    <li ng-bind="$ctrl.shareDetails.fileseed | fileAmountFilter"></li>\n                    <li ng-bind="$ctrl.shareDetails.sizeCache | sizeFilter"></li>\n                    \n\n                </ul>\n            </section>\n\n            <section class="details-file--example">\n                <h2 ng-bind="$ctrl.shareDetails.title || \'Some file name\'"><button ng-click="">RENAME</button></h2>\n                <div class="details-file-preview-container">\n                    <div class="details-info-container">\n                        <h4>No preview available for this type of file.</h4>\n                        <h3><a class="file-details--download" href="#downloadFile">Download</a> <em>examples.desktop</em></h3>\n                    </div>\n\n                </div>\n            </section>\n        </div>\n    </div>\n</main>'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".main-container {\n    display: flex;\n\n    justify-content: space-between;\n}\n\n.details-info--file {\n    flex-basis: 15%;\n    flex-shrink: 0;\n    display: block;\n    border: 1px solid lightgrey;\n    background-color: #f2f2f2;\n    margin-right: 2rem;\n}\n\n.details-info-list {\n    list-style: none;\n}\n\n.details-info-list > li {\n    color: darkgrey;\n}\n\n.details-action-links {\n    list-style: none;\n    margin-top: 1rem;\n}\n\n.details-action-links > li {\n\n}\n\n.details-action-links > li > a:link, a:visited {\n    text-decoration: none;\n    color: blue;\n}\n.details-action-links > li > a:hover {\n    text-decoration: underline;\n}\n\n.details-file--example {\n    flex-basis: 80%;\n    display: block;\n\n}\n\n.details-file--example > h2 {\n    font-weight: 300;\n    font-size: 1rem;\n    padding: 5px 0 5px 10px;\n    color: grey;\n}\n\n.details-file-preview-container {\n    height: 400px;\n    width: 100%;\n    background-color: #f2f2f2;\n    border: 2px solid lightgrey;\n    position: relative;\n}\n\n.details-info-container {\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n",""])},function(n,e,t){var i=t(4);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(5),angular.module("studyApp").component("fileDetails",{template:t(3),bindings:{share:"<",rename:"&",remove:"&",shareDetails:"<"},controller:function(){}})},function(n,e){n.exports='<section>\n    <div class="container">\n        <div class="acc-cont">\n            <div class="acc">\n                <h2 class="acc-head">asdadsdsa</h2>\n            </div>\n            <div class="acc-det-list">\n                <div class="ul">qweqwe</div>\n            </div>\n            \n        </div>\n    </div>\n</section>'},function(n,e,t){angular.module("studyApp").component("studyAccountDetails",{template:t(7),bindings:{},controller:function(){}})},function(n,e){n.exports='\n\n\x3c!-- GRID WITH ALL THE FILES INSIDE --\x3e\n<section >\n    <div class="container">\n            \x3c!-- Show msg with amount of matches only when  it differes from the default value --\x3e\n            <h3 ng-hide="results.length == $ctrl.fileList.length" class="coincidence">{{results.length}} matche(s)</h3>\n        <div class="flex-grid">\n\n            \n              \n            \x3c!-- Iterating through array and building the share items --\x3e\n            <div ng-repeat="item in $ctrl.fileList | shareNameFilter:$ctrl.filter as results" class="fileItem">\n               \n                <app-share    \n                    rename-file="$ctrl.renameFile({oldName})"\n                    show-details="$ctrl.onDetailsClick({share})"   \n                    data="item"\n                    downloaded-file="$ctrl.downloadedFile()"\n                    remove-file="$ctrl.removeFile({item: item})"\n                    index="$index">\n            </app-share>\n            </div>\n        </div>\n    </div>\n\n</section>'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,"\n\n.flex-grid {\n    display: flex;\n    align-items: flex-start;\n    flex-wrap: wrap;\n    justify-content: space-around;\n}\n\n.coincidence {\n    font-size: 1.5rem;\n    color: #333333;\n    text-align: center;\n}\n\n\n.fileItem {\n    flex-basis: 45%;\n    margin: 2rem;\n    display: block;\n    width: 20%;\n    box-shadow: 5px 4px 10px lightgrey;\n    background-color: #f2f2f2;\n    border: 1px solid #ccc;\n    border-radius: 15px;\n    color: #666;\n    font-size: 14px;\n}\n\n\n.fileItem-info {\n\n}\n",""])},function(n,e,t){var i=t(10);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(11),t(2),angular.module("studyApp").component("fileGrid",{template:t(9),bindings:{fileList:"<",greeting:"<",getName:"<",removeFile:"&",renameFile:"&",downloadedFile:"<",renameFile:"&",filter:"=",getFilteredLength:"&",onDetailsClick:"&"},controller:function(){}})},function(n,e){n.exports='<section>\n    <div class="container">\n        <div class="uploadContainer">\n            <form class="uploadFileContainer">\n\n\n                <input id="uploadbtn" class="inputbtn" name="file" type="file">\n                <label class="labelUpload" for="uploadbtn">Upload files here</label>\n\n            </form>\n        </div>\n       \n    </div>\n</section>\n'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".uploadContainer {\n\n\n    margin: auto;\n    width: 40%;\n    position: relative;\n}\n\n.uploadFileContainer {\n    margin: 50px auto 50px auto;\n\n}\n\n#uploadbtn {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n    \n}\n\n#uploadbtn + label {\n    font-size: 1.25em;\n    font-weight: 700;\n    padding: 5rem;\n    color: #333333;\n    background-color: #f2f2f2;\n    display: inline-block;\n    cursor: pointer;\n    margin: .3rem 6rem;\n    border: 2px solid transparent;\n    border-radius: 10px;\n}\n\n#uploadbtn:focus + label , #uploadbtn + label:hover {\n    border: 2px dotted #1E90FF;\n}",""])},function(n,e,t){var i=t(14);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(15),angular.module("studyApp").component("uploadBtn",{template:t(13),controller:["CreateShareService",function(n){this.createShare=function(){let e=prompt("Enter value of share item");n.createShare(e).then(function(n){console.log(n)})}}]})},function(n,e){n.exports='\n\n\n    \x3c!--<h3>{{$ctrl.item}}</h3>--\x3e\n    <h2 ng-bind="$ctrl.data.title || $ctrl.data.files[0].filename" class="fileItem-name"></h2>\n    \x3c!-- <br>\n    <span class="for-renaming">For renaming: </span><h2 ng-bind=" $ctrl.data.title " class="fileItem-name"></h2> --\x3e\n\n    <div class="btn-container">\n        \x3c!-- When we want to use function from upper component - we need to use objects to pass arguments into it --\x3e\n        <button class="button-remove" ng-click="$ctrl.removeFile({item: $ctrl.data})">Remove</button>\n        <button class="button-rename"  ng-click="$ctrl.renameFile({oldName: $ctrl.data.sharename})">Rename</button>\n    </div>\n    <div class="fileItem-info">\n        <ul class="fileItem-info--list">\n            <li ng-bind="$ctrl.data.created | dateFilter"></li>\n            <li ng-bind="$ctrl.data.fileseed | fileAmountFilter"></li>\n            <li ng-bind="$ctrl.data.sizeCache | sizeFilter"></li>\n            <li ng-bind="$ctrl.data.downloads + \' downloaded\'"></li>\n        </ul>\n    </div>\n\n    \x3c!-- Button for increasing the moaunt of downloads  --\x3e\n    <div  class="filePreview-container">\n        <a ng-click="$ctrl.downloadedFile()" href="javascript:void(0)" class="fileDownload">Download</a>\n        \x3c!-- <a ui-sref="shareinfo({sharename: $ctrl.data.sharename})" >Details</a> --\x3e\n        <a ng-click="$ctrl.showDetails({share: $ctrl.data})" href="javascript:void(0)" class="fileDetails">Details</a>\n    </div>\n'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".button-rename {\n    display: inline-block;\n    background-color: orange;\n    padding: 5px;\n    flex-basis: 30%;\n    color: #333333;\n    font-size: 1rem;\n    cursor: pointer;\n}\n\n.button-remove {\n    display: inline-block;\n    background-color: orangered;\n    color: #333333;\n    flex-basis: 30%;\n    padding: 5px;\n    cursor: pointer;\n    font-size: 1rem;\n}\n\n.btn-container {\n    display: flex;\n    margin: auto;\n    align-items: center;\n    justify-content: center;\n}\n\n\n.fileItem-info--list {\n    list-style: none;\n    margin: 10px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n}\n\n.fileItem-info--list > li {\n    display: block;\n    padding: 1rem .3rem .1rem .3rem;\n\n\n    margin: auto;\n    margin-bottom: 1.4rem;\n    border-bottom: 2px solid #ccc;\n}\n\n\n\n.filePreview-container {\n    display: block;\n    margin: auto;\n\n    min-height: 3rem;\n    max-width: 3rem;\n    position: relative;\n    cursor: pointer;\n}\n\n\n.filePreview {\n    font-size: 1rem;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-decoration: none;\n}\n\n\n.fileItem-name {\n    text-align: center;\n    font-weight: 300;\n    font-size: 1.7rem;\n    letter-spacing: .1rem;\n    \n    margin: .4rem auto .4rem auto;\n    color: black;\n}\n.for-renaming {\n    font-size: 1.5rem;\n    font-weight: 500;\n}\n\n.for-filtering {\n    font-size: 1.5rem;\n    font-weight: 500;\n}",""])},function(n,e,t){var i=t(18);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e){n.exports='\n    <section class="acc">\n        <div class="container">\n            <div class="acc-container">\n                <div class="info-container">\n                    <h3 class="acc-heading">Your account:</h3>\n\n                    <div class="acc-info">\n                        <h3 ng-bind="$ctrl.data.plan"></h3>\n                        <h4 ng-bind="\'Expires: \' + $ctrl.data.expDate"></h4>\n                    </div>\n\n                    <div class="acc-fileQuantity">\n                        <h3 ng-bind="$ctrl.data.fileQuantity | fileAmountFilter"></h3>\n                    </div>\n\n                    <div class="acc-space">\n                        <h3 ng-bind="$ctrl.data.spaceTaken | sizeFilter"></h3>\n                        <h3 ng-bind="$ctrl.data.percentage | percentageFilter"></h3>\n                    </div>\n\n                    <div class="acc-downloads">\n                        <h3 ng-bind="$ctrl.data.downloaded + \' downloads\'"></h3>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".acc{\n\n}\n\n.acc-container {\n    background-image: linear-gradient(to bottom, #f2f2f2, #eee);\n    border: 2px solid lightgrey;\n    clip-path: polygon(0% 0%, 100% 0, 100% 75%, 50% 100%, 0% 75%);\n    -webkit-border-radius: 5px;\n    -moz-border-radius: 5px;\n    border-radius: 5px;\n    max-width: 15%;\n    font-size: 11px;\n\n    display: block;\n    padding: 1rem 0 3rem 0;\n    color: #333333;\n\n}\n\n.container {\n    width: 70%;\n    margin: auto;\n\n}\n\n.info-container {\n    display: block;\n}\n\n.acc-heading {\n    /*margin-bottom: 10px;*/\n    /*margin-left: 2rem;*/\n    text-align: center;\n    font-size: 1.3rem;\n    margin-bottom: 1rem;\n}\n\n.acc-info {\n    margin-left: 3rem;\n    margin-bottom: 10px;\n    font-size: .8rem;\n}\n\n.acc-fileQuantity {\n    margin-left: 3rem;\n    margin-bottom: 10px;\n}\n\n.acc-space {\n    margin-left: 3rem;\n    margin-bottom: 10px;\n}\n\n.acc-downloads {\n    margin-left: 3rem;\n    margin-bottom: 10px;\n}",""])},function(n,e,t){var i=t(21);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(22),angular.module("studyApp").component("studyAppAccount",{template:t(20),bindings:{data:"<"},controller:function(){}})},function(n,e){n.exports='<div class="mainFolderContainer">\n\n\n    \x3c!-- header for the \\full page --\x3e\n    <study-app-header user="$ctrl.userInfo.fullname" logout="$ctrl.logout()"  login="$ctrl.login()"></study-app-header>\n\n    <div class="acc-filter">\n    \x3c!-- unformation about user--\x3e\n    <study-app-account ng-if="$ctrl.userInfo" data="$ctrl.data"></study-app-account>\n    <search-filter on-input-clear="$ctrl.onInputClear()" filtered-length="$ctrl.filteredLength" ng-if="$ctrl.userInfo" filter="$ctrl.filter"></search-filter>\n    </div>\n\n\n    \x3c!-- Button for upoloading files to the array --\x3e\n    <upload-btn ng-if="$ctrl.userInfo"></upload-btn>\n\n    \x3c!-- files grid with all the files according to the array of files --\x3e\n    <file-grid\n                on-details-click="$ctrl.shareInformation(share)"\n                get-filtered-length="$ctrl.getFilteredLength(results)"\n                filter="$ctrl.filter"\n                ng-if="$ctrl.userInfo"\n                downloaded-file="$ctrl.downloadedItem"\n               remove-file="$ctrl.removeItem(item)"\n               rename-file="$ctrl.renameShare(oldName)"\n               file-list="$ctrl.filesArray">\n                \x3c!--rename-share="$ctrl.renameShare(oldName)"--\x3e\n    </file-grid>\n\n    <file-details share-details="$ctrl.shareDetails"  ng-if="$ctrl.shareDetails"></file-details>\n</div>'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".acc-filter {\n\n}\n\n*, *::before, *::after {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    box-sizing: border-box;\n}\n\n",""])},function(n,e,t){var i=t(25);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(26),angular.module("studyApp").component("mainFolder",{template:t(24),bindings:{items:"="},controller:["RemoveShare","RenameShare","ShareItemService","AuthService","LoginService","SharesService",function(n,e,t,i,r,o){var a=this;this.filter="",this.accessToken="",this.shareDetails="",this.data={plan:"",expDate:"never",fileQuantity:0,spaceTaken:0,downloaded:0,percentage:0},this.onInputClear=function(){a.filter=""},this.onFilterChange=function(n){a.filterValue=n,console.log("Length"+a.filesArray)},this.renameShare=function(n){var t=prompt("Enter new value of the following share item please");e.renameShare(n,t,a.accessToken).then(function(n){a.filesArray.forEach((e,t)=>{e.id==n.data.id&&(a.filesArray[t].title=n.data.title)})})},this.login=function(){r.login().then(function(n){a.accessToken=n.data.accesstoken,console.log(n.data.accesstoken),a.userName=n.data.user.fullname,a.userInfo=n.data.user;var e=String(n.data.user.type);a.data.plan=e.charAt(0).toUpperCase()+e.slice(1),t.getShares(a.accessToken).then(function(n){return console.log(n),a.filesArray=n.data,n.data}).then(function(n){var e=0;n.forEach(function(n){e+=n.downloads}),a.data.downloaded=e;var t=0;n.forEach(function(n){t+=n.sizeCache}),a.data.spaceTaken=t;var i=0;n.forEach(function(n){i+=n.fileseed}),a.data.fileQuantity=i,a.data.percentage=t})})},this.shareInformation=function(n){a.shareDetails=n,console.log(n)},this.logout=function(){a.userInfo="",a.shareDetails=""},this.removeItem=function(e){n.removeShare(e.sharename,a.accessToken).then(function(n){a.data.fileQuantity-=e.fileseed,a.data.spaceTaken-=e.sizeCache,a.data.percentage=a.data.spaceTaken}).then(function(n){t.getShares(a.accessToken).then(function(n){a.filesArray=n.data})})},this.downloadedItem=function(){a.data.downloaded++}}]})},function(n,e){n.exports='<header>\n  <div class="container">\n    <nav class="nav-container">\n      <div class="list-container">\n        <ul class="nav-list">\n\n          <li ng-click="$ctrl.logggin()" class="nav-btn">Home</li>\n\n          \x3c!-- Element shown if user is authencticated --\x3e\n          <li ng-if="$ctrl.user" class="nav-btn" ng-bind="$ctrl.user"></li>\n          <li ng-if="!$ctrl.user" class="nav-btn" ng-click="$ctrl.login()">Log In</li>\n\n\n          <li class="nav-btn" ng-if="$ctrl.user" ng-click="$ctrl.logout()">Logout</li>\n\n\n\n        </ul>\n      </div>\n    </nav>\n  </div>\n\n</header>'},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,"\n* {\n    padding: 0;\n    margin: 0;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\nheader {\n    background-color: #333333;\n}\n\n\n\n.nav-container{\n   display: flex;\n    justify-content: flex-end;\n    align-items: center;\n}\n\n.nav-list {\n    display: flex;\n    align-items: center;\n    height: 100%;\n}\n\n.nav-btn {\n    display: block;\n\n    font-size: 1.3rem;\n\n    color: white;\n    text-transform: uppercase;\n    font-weight: 300;\n    padding: 5px 10px;\n    border-bottom: 3px solid transparent;\n}\n\n.nav-btn:hover, .nav-btn:active {\n    border-bottom: 3px solid #eee;\n    cursor: pointer;\n}",""])},function(n,e,t){var i=t(29);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(30),angular.module("studyApp").component("studyAppHeader",{template:t(28),bindings:{user:"<",logout:"&",login:"&"},controller:["LoginService",function(n){this.logggin=function(){n.login().then(function(n){console.log(n)})}}]})},function(n,e){n.exports='<section>\n    <div class="container">\n        <div class="filter">\n            <div class="filter__heading">\n                <h3 class="filter__heading-msg">Search your files</h3>\n            </div>\n            <div class="filter__input">\n                <input class="filter__input-field" placeholder="Enter search value here..." ng-model="$ctrl.filter" type="text"/>\n                       \x3c!--ng-change="$ctrl.filter($ctrl.filterValue)" --\x3e\n\n            </div>\n            <div ng-show="$ctrl.filter" class="filter__info">\n                \x3c!-- <h4 class="filter__info-coincidences"><span ng-bind="$ctrl.filteredLength"></span> matches</h4> --\x3e\n                <a class="filter__info-clear" href="javascript:void(0)" ng-click="$ctrl.onInputClear()">Clear</a>\n            </div>\n        </div>\n    </div>\n</section>'},function(n,e){n.exports=function(n){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=e.protocol+"//"+e.host,i=t+e.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,e){var r,o=e.trim().replace(/^"(.*)"$/,function(n,e){return e}).replace(/^'(.*)'$/,function(n,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?n:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?t+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,'.filter{\n    display: block;\n    margin: auto;\n    width: 50%;\n}\n\n.filter__heading{\n    margin-bottom: 1.5rem;\n}\n\n.filter__heading-msg {\n    color: #333333;\n    font-size: 30px;\n    text-align: center;\n    letter-spacing: .1rem;\n}\n\n.filter__input {\n\n}\n\ninput[type="text"], input[type="text"]:focus {\n    font-size: 20px;\n    border-style: double;\n    border-color: #1ebfff; \n    display: block;\n    width: 80%;\n    margin: auto;\n    height: 2rem;\n    \n    outline: none;\n    padding-left: 1rem;\n    border-width: 0 0 3px 0;\n}\n\n.filter__info {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin: 1rem auto 2rem auto;\n    width: 80%;\n    \n}\n\n.filter__info-coincidences{\n    font-size: 1rem;\n}\n\n.filter__info-clear {\n    font-size: 1rem;\n}',""])},function(n,e,t){var i=t(34);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(0)(i,r);i.locals&&(n.exports=i.locals)},function(n,e,t){t(35),angular.module("studyApp").component("searchFilter",{template:t(32),bindings:{filter:"=",filteredLength:"<",onInputClear:"&"},controller:function(){}})},function(n,e){angular.module("studyApp").service("AuthService",["$http",class{constructor(n){this.http=n}getUser(n){return this.http({method:"POST",url:`http://localhost:8080/1/users/me?accesstoken=${n}`})}}])},function(n,e){angular.module("studyApp").service("SharesService",["$q",class{constructor(n){this.q=n}getShares(){return this.q(function(n,e){n([{name:"Dummy 2",dateCreated:new Date,innerFiles:3,fileSize:560,downloadedTimes:2},{name:"Dummy 3",dateCreated:new Date,innerFiles:8,fileSize:17,downloadedTimes:3},{name:"Dummy 4",dateCreated:new Date,innerFiles:1,fileSize:9,downloadedTimes:1}])})}}])},function(n,e){angular.module("studyApp").service("ShareItemService",["$http",class{constructor(n){this.http=n}getShares(n){return this.http({method:"GET",url:`http://localhost:8080/1/shares?accesstoken=${n}`})}}])},function(n,e){angular.module("studyApp").service("LoginService",["$http",class{constructor(n){this.http=n}login(){return this.http({method:"POST",url:"http://localhost:8080/1/users/login",data:{email:"jacksterwow@gmail.com",password:"qwe200020002000"}})}}])},function(n,e){angular.module("studyApp").service("RenameShare",["$http",class{constructor(n){this.http=n}renameShare(n,e,t){return this.http({method:"POST",url:`http://localhost:8080/1/shares/${n}/update?accesstoken=${t}`,data:{title:e}})}}])},function(n,e){angular.module("studyApp").service("RemoveShare",["$http",class{constructor(n){this.http=n}removeShare(n,e){return this.http({method:"POST",url:`http://localhost:8080/1/shares/${n}/destroy?accesstoken=${e}`})}}])},function(n,e){angular.module("studyApp").service("CreateShareService",["$http",class{constructor(n){this.http=n}createShare(n){return this.http({method:"POST",url:"http://localhost:8080/1/shares/create?accesstoken=a.0.user-J7kUBAbnVzOdendelXu1B8RpfXJLhIWuFNzoC-.1520680455.a572f8074e31dcf14a25ffad5f9dd3b9ffa68b00",data:{title:`${n}`}})}}])},function(n,e){angular.module("studyApp").filter("shareNameFilter",function(){return function(n,e){var t=[];if(console.log(n),n)for(var i=0;i<n.length;i++)n[i].title&&-1!=n[i].title.indexOf(e)&&t.push(n[i]),n[i].title||-1!=n[i].files[0].filename.indexOf(e)&&t.push(n[i]);return t}})},function(n,e){angular.module("studyApp").filter("sizeFilter",function(){return function(n){let e,t=parseInt(n);return t<1e6&&(e=n+" KB"),t>1e6&&(e=(t/1e6).toFixed(2)+" MB"),e}})},function(n,e){angular.module("studyApp").filter("percentageFilter",function(){return function(n){return(parseInt(n)/25e5).toFixed(2)+"% of 250MB"}})},function(n,e){angular.module("studyApp").filter("dateFilter",()=>n=>{if(n){let e=new Date(1e3*n),t=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"][e.getDay()],i=e.getDate();return`${t} ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${i}, ${e.getFullYear()}`}})},function(n,e){angular.module("studyApp").filter("fileAmountFilter",function(){return function(n){return 1==n?`${n} file`:n>1?`${n} files`:void 0}})},function(n,e){angular.module("studyApp").directive("afterRepeat",function(){return function(n,e,t){e.bind("$destroy",function(e){n.$last&&n.$eval(t.afterRepeat)})}})},function(n,e){angular.module("studyApp").service(["$http","getShareService",class{constructor(n){this.http=n}getShare(n){return this.http({method:"GET",url:`http://localhost:8080/1/shares/${n}`})}}])},function(n,e,t){angular.module("studyApp",["ui.router"]).config(["$urlRouterProvider","$stateProvider",(n,e)=>{n.otherwise(""),e.state({name:"home",url:"/",template:"<main-folder></main-folder>"}).state({name:"details",url:"/account-details",template:"<study-account-details></study-account-details>"}).state({name:"shareinfo",url:"/:sharename",template:"<file-details></file-details>"})}]),t(50),t(49),t(48),t(47),t(46),t(45),t(44),t(43),t(42),t(41),t(40),t(39),t(38),t(37),t(36),t(31),t(27),t(23),t(2),t(16),t(12),t(8),t(6)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NoYXJlL3NoYXJlLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2ZpbGVkZXRhaWxzL2ZpbGVkZXRhaWxzLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9maWxlZGV0YWlscy9maWxlZGV0YWlscy5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9maWxlZGV0YWlscy9maWxlZGV0YWlscy5jc3M/MmMzZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2ZpbGVkZXRhaWxzL2ZpbGVkZXRhaWxzLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FjY291bnQtZGV0YWlscy9hY2NvdW50LWRldGFpbHMudGVtcGxhdGUuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FjY291bnQtZGV0YWlscy9hY2NvdW50LWRldGFpbHMuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hhcmUtY29udGFpbmVyL3NoYXJlLWNvbnRhaW5lci5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hhcmUtY29udGFpbmVyL3NoYXJlLWNvbnRhaW5lci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zaGFyZS1jb250YWluZXIvc2hhcmUtY29udGFpbmVyLmNzcz9jZDllIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2hhcmUtY29udGFpbmVyL3NoYXJlLWNvbnRhaW5lci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy91cGxvYWRidG4vdXBsb2FkYnRuLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy91cGxvYWRidG4vdXBsb2FkYnRuLmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3VwbG9hZGJ0bi91cGxvYWRidG4uY3NzPzgyNTEiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy91cGxvYWRidG4vdXBsb2FkYnRuLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NoYXJlL3NoYXJlLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zaGFyZS9zaGFyZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zaGFyZS9zaGFyZS5jc3M/NWIyNiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FjY291bnQvYWNjb3VudC5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvYWNjb3VudC9hY2NvdW50LmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FjY291bnQvYWNjb3VudC5jc3M/NjQ2NiIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2FjY291bnQvYWNjb3VudC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9tYWluZm9sZGVyL21haW5mb2xkZXIuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL21haW5mb2xkZXIvbWFpbmZvbGRlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9tYWluZm9sZGVyL21haW5mb2xkZXIuY3NzPzgzODciLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9tYWluZm9sZGVyL21haW5mb2xkZXIuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNzcz83MTBkIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9zZWFyY2gtZmlsdGVyL3NlYXJjaC1maWx0ZXIudGVtcGxhdGUuaHRtbCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvc2VhcmNoLWZpbHRlci9zZWFyY2gtZmlsdGVyLmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NlYXJjaC1maWx0ZXIvc2VhcmNoLWZpbHRlci5jc3M/NjBhMyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3NlYXJjaC1maWx0ZXIvc2VhcmNoLWZpbHRlci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmljZXMvYXV0aC5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL2RhdGEuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9zaGFyZXMuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9sb2dpbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL3JlbmFtZVNoYXJlLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmljZXMvcmVtb3ZlU2hhcmUuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9jcmVhdGVTaGFyZS5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvc2hhcmVOYW1lRmlsdGVyLmZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3NpemVGaWx0ZXIuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvcGVyY2VudGFnZUZpbHRlci5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9kYXRlRmlsdGVyLmZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL2ZpbGVBbW91bnRGaWx0ZXIuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL2RpcmVjdGl2ZXMvYWZ0ZXJSZXBlYXQuZGlyZWN0aXZlLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL2dldFNoYXJlSW5mby5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJsZW5ndGgiLCJpdGVtIiwiZG9tU3R5bGUiLCJpZCIsInJlZnMiLCJqIiwicGFydHMiLCJwdXNoIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwidW5kZWZpbmVkIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiYW5ndWxhciIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwiYmluZGluZ3MiLCJkYXRhIiwicmVtb3ZlRmlsZSIsInJlbmFtZUZpbGUiLCJkb3dubG9hZGVkRmlsZSIsInNob3dEZXRhaWxzIiwiY29udHJvbGxlciIsImhtciIsImxvY2FscyIsInNoYXJlIiwicmVuYW1lIiwic2hhcmVEZXRhaWxzIiwiZmlsZUxpc3QiLCJncmVldGluZyIsImdldE5hbWUiLCJnZXRGaWx0ZXJlZExlbmd0aCIsIm9uRGV0YWlsc0NsaWNrIiwiQ3JlYXRlU2hhcmVTZXJ2aWNlIiwiY3JlYXRlU2hhcmUiLCJzaGFyZU5hbWUiLCJwcm9tcHQiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsIml0ZW1zIiwiUmVtb3ZlU2hhcmUiLCJSZW5hbWVTaGFyZSIsIlNoYXJlSXRlbVNlcnZpY2UiLCJBdXRoU2VydmljZSIsIkxvZ2luU2VydmljZSIsIlNoYXJlc1NlcnZpY2UiLCJjdHJsIiwiYWNjZXNzVG9rZW4iLCJwbGFuIiwiZXhwRGF0ZSIsImZpbGVRdWFudGl0eSIsInNwYWNlVGFrZW4iLCJkb3dubG9hZGVkIiwicGVyY2VudGFnZSIsIm9uSW5wdXRDbGVhciIsIm9uRmlsdGVyQ2hhbmdlIiwiZmlsdGVyVmFsdWUiLCJmaWxlc0FycmF5IiwicmVuYW1lU2hhcmUiLCJvbGROYW1lIiwibmV3TmFtZSIsInRpdGxlIiwibG9naW4iLCJhY2Nlc3N0b2tlbiIsInVzZXJOYW1lIiwidXNlciIsImZ1bGxuYW1lIiwidXNlckluZm8iLCJTdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZ2V0U2hhcmVzIiwiZG93bmxvYWRBbW91bnQiLCJkb3dubG9hZHMiLCJ0b3RhbFNpemUiLCJzaXplQ2FjaGUiLCJ0b3RhbEZpbGVzIiwiZmlsZXNlZWQiLCJzaGFyZUluZm9ybWF0aW9uIiwibG9nb3V0IiwicmVtb3ZlSXRlbSIsInJlbW92ZVNoYXJlIiwic2hhcmVuYW1lIiwiZG93bmxvYWRlZEl0ZW0iLCJsb2dnZ2luIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiZmlsdGVyZWRMZW5ndGgiLCJzZXJ2aWNlIiwiW29iamVjdCBPYmplY3RdIiwiJGh0dHAiLCJodHRwIiwibWV0aG9kIiwidXJsIiwiJHEiLCJxIiwicmVzb2x2ZSIsInJlamVjdCIsImRhdGVDcmVhdGVkIiwiRGF0ZSIsImlubmVyRmlsZXMiLCJmaWxlU2l6ZSIsImRvd25sb2FkZWRUaW1lcyIsImVtYWlsIiwicGFzc3dvcmQiLCJmaWx0ZXJlZCIsImZpbGVzIiwiZmlsZW5hbWUiLCJmb3JtYXR0ZWRWYWx1ZSIsInBhcnNlZCIsInBhcnNlSW50IiwidG9GaXhlZCIsIm9yaWdpbkRhdGUiLCJkYXkiLCJnZXREYXkiLCJkYXRlIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJkaXJlY3RpdmUiLCJzY29wZSIsImVsZW1lbnQiLCJldmVudCIsIiRsYXN0IiwiJGV2YWwiLCJhZnRlclJlcGVhdCIsImNvbmZpZyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxH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QUEsOEJBQ0EsZ0JBQUFoRixHQUNBLFVBQUFBLEtBQzBCQSxTQUUxQkEsRUFBQSxLQUMwQkEsZUFEMUIsb0JDSEFtRyxRQUFBeEosT0FBQSxZQUNBZ1IsVUFBQSx5QkFDQSxnQkFBQUMsRUFBQUMsRUFBQTFMLEdBQ0EwTCxFQUFBM0ssS0FBQSxvQkFBQTRLLEdBQ0FGLEVBQUFHLE9BQ0FILEVBQUFJLE1BQUE3TCxFQUFBOEwsaUNDTUE5SCxRQUFBeEosT0FBQSxZQUFBaVAsU0FBQSxnQ0FiQUMsWUFBQUMsR0FDQWhOLEtBQUFpTixLQUFBRCxFQUdBRCxTQUFBbkIsR0FDQSxPQUFBNUwsS0FBQWlOLE1BQ0FDLE9BQUEsTUFDQUMsc0NBQW1EdkIsMkJDUm5EdkUsUUFBQXhKLE9BQUEsMEJBRUF1UixRQUFBLHVDQUFBQyxFQUFBQyxLQUNBRCxFQUFBRSxVQUFBLElBRUFELEVBQ0FFLE9BQ0FuUixLQUFBLE9BQ0E4TyxJQUFBLElBQ0E1RixTQUFBLGdDQUVBaUksT0FDQW5SLEtBQUEsVUFDQThPLElBQUEsbUJBQ0E1RixTQUFBLG9EQUVBaUksT0FDQW5SLEtBQUEsWUFDQThPLElBQUEsY0FDQTVGLFNBQUEscUNBYUE3SixFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLEdBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLEdBQ0FBLEVBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1MSk7XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJyZXF1aXJlKCcuL3NoYXJlLmNzcycpO1xuXG5hbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKVxuICAgIC5jb21wb25lbnQoJ2FwcFNoYXJlJywge1xuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9zaGFyZS5odG1sJyksXG4gICAgICAgIGJpbmRpbmdzOiB7XG4gICAgICAgICAgICBkYXRhOiAnPCcsXG4gICAgICAgICAgICByZW1vdmVGaWxlOiAnJicsXG4gICAgICAgICAgICByZW5hbWVGaWxlOiAnJicsXG4gICAgICAgICAgICBkb3dubG9hZGVkRmlsZTogJyYnLFxuICAgICAgICAgICAgaW5kZXg6ICc9JyxcbiAgICAgICAgICAgIHNob3dEZXRhaWxzOiAnJidcbiAgICAgICAgICAgIC8vICxcbiAgICAgICAgICAgIC8vIHJlbmFtZVNoYXJlOiAnJidcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjogIGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgXG4gICAgICAgIH1cbiAgICB9KSIsIm1vZHVsZS5leHBvcnRzID0gXCI8bWFpbiBjbGFzcz1cXFwiZGV0YWlscy1jb250YWluZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXJcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibWFpbi1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVxcXCJkZXRhaWxzLWluZm8tLWZpbGVcXFwiPlxcbiAgICAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkZXRhaWxzLWFjdGlvbi1saW5rc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgbmctYmluZD1cXFwiJ0ZpbGUgbmFtZTogJyArICRjdHJsLnNoYXJlRGV0YWlscy5maWxlc1swXS5maWxlbmFtZSBcXFwiPjwvbGk+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgbmctYmluZD1cXFwiJGN0cmwuc2hhcmVEZXRhaWxzLmRvd25sb2FkcyArICcgZG93bmxvYWRzJ1xcXCI+PC9saT5cXG4gICAgICAgICAgICAgICAgICAgIDxsaT5DcmVhdGVkOiA8c3BhbiBuZy1iaW5kPVxcXCIkY3RybC5zaGFyZURldGFpbHMuY3JlYXRlZCB8IGRhdGVGaWx0ZXJcXFwiPjwvc3Bhbj48L2xpPlxcbiAgICAgICAgICAgICAgICAgICAgPGxpIG5nLWJpbmQ9XFxcIiRjdHJsLnNoYXJlRGV0YWlscy5maWxlc2VlZCB8IGZpbGVBbW91bnRGaWx0ZXJcXFwiPjwvbGk+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgbmctYmluZD1cXFwiJGN0cmwuc2hhcmVEZXRhaWxzLnNpemVDYWNoZSB8IHNpemVGaWx0ZXJcXFwiPjwvbGk+XFxuICAgICAgICAgICAgICAgICAgICBcXG5cXG4gICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L3NlY3Rpb24+XFxuXFxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9XFxcImRldGFpbHMtZmlsZS0tZXhhbXBsZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxoMiBuZy1iaW5kPVxcXCIkY3RybC5zaGFyZURldGFpbHMudGl0bGUgfHwgJ1NvbWUgZmlsZSBuYW1lJ1xcXCI+PGJ1dHRvbiBuZy1jbGljaz1cXFwiXFxcIj5SRU5BTUU8L2J1dHRvbj48L2gyPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkZXRhaWxzLWZpbGUtcHJldmlldy1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGV0YWlscy1pbmZvLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0Pk5vIHByZXZpZXcgYXZhaWxhYmxlIGZvciB0aGlzIHR5cGUgb2YgZmlsZS48L2g0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz48YSBjbGFzcz1cXFwiZmlsZS1kZXRhaWxzLS1kb3dubG9hZFxcXCIgaHJlZj1cXFwiI2Rvd25sb2FkRmlsZVxcXCI+RG93bmxvYWQ8L2E+IDxlbT5leGFtcGxlcy5kZXNrdG9wPC9lbT48L2gzPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvc2VjdGlvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L21haW4+XCI7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWFpbi1jb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcblxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxufVxcblxcbi5kZXRhaWxzLWluZm8tLWZpbGUge1xcbiAgICBmbGV4LWJhc2lzOiAxNSU7XFxuICAgIGZsZXgtc2hyaW5rOiAwO1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmV5O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDJyZW07XFxufVxcblxcbi5kZXRhaWxzLWluZm8tbGlzdCB7XFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcblxcbi5kZXRhaWxzLWluZm8tbGlzdCA+IGxpIHtcXG4gICAgY29sb3I6IGRhcmtncmV5O1xcbn1cXG5cXG4uZGV0YWlscy1hY3Rpb24tbGlua3Mge1xcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcbiAgICBtYXJnaW4tdG9wOiAxcmVtO1xcbn1cXG5cXG4uZGV0YWlscy1hY3Rpb24tbGlua3MgPiBsaSB7XFxuXFxufVxcblxcbi5kZXRhaWxzLWFjdGlvbi1saW5rcyA+IGxpID4gYTpsaW5rLCBhOnZpc2l0ZWQge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICAgIGNvbG9yOiBibHVlO1xcbn1cXG4uZGV0YWlscy1hY3Rpb24tbGlua3MgPiBsaSA+IGE6aG92ZXIge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcXG59XFxuXFxuLmRldGFpbHMtZmlsZS0tZXhhbXBsZSB7XFxuICAgIGZsZXgtYmFzaXM6IDgwJTtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuXFxufVxcblxcbi5kZXRhaWxzLWZpbGUtLWV4YW1wbGUgPiBoMiB7XFxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgcGFkZGluZzogNXB4IDAgNXB4IDEwcHg7XFxuICAgIGNvbG9yOiBncmV5O1xcbn1cXG5cXG4uZGV0YWlscy1maWxlLXByZXZpZXctY29udGFpbmVyIHtcXG4gICAgaGVpZ2h0OiA0MDBweDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIGxpZ2h0Z3JleTtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uZGV0YWlscy1pbmZvLWNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogNTAlO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9maWxlZGV0YWlscy5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZmlsZWRldGFpbHMuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9maWxlZGV0YWlscy5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvL1VTRUQgV0lUSCBST1VURVJcbnJlcXVpcmUoJy4vZmlsZWRldGFpbHMuY3NzJyk7XG5cblxuYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJylcbiAgICAuY29tcG9uZW50KCdmaWxlRGV0YWlscycsIHtcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vZmlsZWRldGFpbHMuaHRtbCcpLFxuICAgICAgICBiaW5kaW5nczoge1xuICAgICAgICAgICAgc2hhcmU6ICc8JyxcbiAgICAgICAgICAgIHJlbmFtZTogJyYnLFxuICAgICAgICAgICAgcmVtb3ZlOiAnJicsXG4gICAgICAgICAgICBzaGFyZURldGFpbHM6ICc8J1xuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xuICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICB9KSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImFjYy1jb250XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY2NcXFwiPlxcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XFxcImFjYy1oZWFkXFxcIj5hc2RhZHNkc2E8L2gyPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjYy1kZXQtbGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInVsXFxcIj5xd2Vxd2U8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICBcXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L3NlY3Rpb24+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJylcbiAgICAuY29tcG9uZW50KCdzdHVkeUFjY291bnREZXRhaWxzJywge1xuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9hY2NvdW50LWRldGFpbHMudGVtcGxhdGUuaHRtbCcpLFxuICAgICAgICBiaW5kaW5nczoge1xuICAgICAgICAgICAgXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0pIiwibW9kdWxlLmV4cG9ydHMgPSBcIlxcblxcbjwhLS0gR1JJRCBXSVRIIEFMTCBUSEUgRklMRVMgSU5TSURFIC0tPlxcbjxzZWN0aW9uID5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICA8IS0tIFNob3cgbXNnIHdpdGggYW1vdW50IG9mIG1hdGNoZXMgb25seSB3aGVuICBpdCBkaWZmZXJlcyBmcm9tIHRoZSBkZWZhdWx0IHZhbHVlIC0tPlxcbiAgICAgICAgICAgIDxoMyBuZy1oaWRlPVxcXCJyZXN1bHRzLmxlbmd0aCA9PSAkY3RybC5maWxlTGlzdC5sZW5ndGhcXFwiIGNsYXNzPVxcXCJjb2luY2lkZW5jZVxcXCI+e3tyZXN1bHRzLmxlbmd0aH19IG1hdGNoZShzKTwvaDM+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmbGV4LWdyaWRcXFwiPlxcblxcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgPCEtLSBJdGVyYXRpbmcgdGhyb3VnaCBhcnJheSBhbmQgYnVpbGRpbmcgdGhlIHNoYXJlIGl0ZW1zIC0tPlxcbiAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJpdGVtIGluICRjdHJsLmZpbGVMaXN0IHwgc2hhcmVOYW1lRmlsdGVyOiRjdHJsLmZpbHRlciBhcyByZXN1bHRzXFxcIiBjbGFzcz1cXFwiZmlsZUl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICA8YXBwLXNoYXJlICAgIFxcbiAgICAgICAgICAgICAgICAgICAgcmVuYW1lLWZpbGU9XFxcIiRjdHJsLnJlbmFtZUZpbGUoe29sZE5hbWV9KVxcXCJcXG4gICAgICAgICAgICAgICAgICAgIHNob3ctZGV0YWlscz1cXFwiJGN0cmwub25EZXRhaWxzQ2xpY2soe3NoYXJlfSlcXFwiICAgXFxuICAgICAgICAgICAgICAgICAgICBkYXRhPVxcXCJpdGVtXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRlZC1maWxlPVxcXCIkY3RybC5kb3dubG9hZGVkRmlsZSgpXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlLWZpbGU9XFxcIiRjdHJsLnJlbW92ZUZpbGUoe2l0ZW06IGl0ZW19KVxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGluZGV4PVxcXCIkaW5kZXhcXFwiPlxcbiAgICAgICAgICAgIDwvYXBwLXNoYXJlPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2Plxcblxcbjwvc2VjdGlvbj5cIjsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcblxcbi5mbGV4LWdyaWQge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gICAgZmxleC13cmFwOiB3cmFwO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG59XFxuXFxuLmNvaW5jaWRlbmNlIHtcXG4gICAgZm9udC1zaXplOiAxLjVyZW07XFxuICAgIGNvbG9yOiAjMzMzMzMzO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcblxcbi5maWxlSXRlbSB7XFxuICAgIGZsZXgtYmFzaXM6IDQ1JTtcXG4gICAgbWFyZ2luOiAycmVtO1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgd2lkdGg6IDIwJTtcXG4gICAgYm94LXNoYWRvdzogNXB4IDRweCAxMHB4IGxpZ2h0Z3JleTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcXG4gICAgY29sb3I6ICM2NjY7XFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuXFxuXFxuLmZpbGVJdGVtLWluZm8ge1xcblxcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zaGFyZS1jb250YWluZXIuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3NoYXJlLWNvbnRhaW5lci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3NoYXJlLWNvbnRhaW5lci5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJyZXF1aXJlKCcuL3NoYXJlLWNvbnRhaW5lci5jc3MnKTtcbnJlcXVpcmUoJy4uL3NoYXJlL3NoYXJlLmNvbXBvbmVudCcpO1xuLyogR3JpZCBpdGVtcyAtIHNpbmdsZSBmaWxlcyAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKVxuICAgIC5jb21wb25lbnQoJ2ZpbGVHcmlkJywge1xuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9zaGFyZS1jb250YWluZXIuaHRtbCcpLFxuICAgICAgICBiaW5kaW5nczoge1xuICAgICAgICAgICAgLy9hcnJheSB3aXRoIGFsbCB0aGUgZmlsZXNcbiAgICAgICAgICAgZmlsZUxpc3Q6ICc8JyxcbiAgICAgICAgICAgIC8vdGVzdCBzdHJpbmdcbiAgICAgICAgICAgIGdyZWV0aW5nOiAnPCcsXG4gICAgICAgICAgICAvL3Rlc3QgZnVuY3Rpb24gd2l0aCB0d28gd2F5IGJpbmRpbmdcbiAgICAgICAgICAgIGdldE5hbWU6ICc8JyxcbiAgICAgICAgICAgIHJlbW92ZUZpbGU6ICcmJyxcbiAgICAgICAgICAgIHJlbmFtZUZpbGU6ICcmJyxcbiAgICAgICAgICAgIGRvd25sb2FkZWRGaWxlOiAnPCcsXG4gICAgICAgICAgICByZW5hbWVGaWxlOiAnJicsXG4gICAgICAgICAgICBmaWx0ZXI6ICc9JyxcbiAgICAgICAgICAgIGdldEZpbHRlcmVkTGVuZ3RoOiAnJicsXG4gICAgICAgICAgICBvbkRldGFpbHNDbGljazogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG5cbn1cbiAgICB9KSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZENvbnRhaW5lclxcXCI+XFxuICAgICAgICAgICAgPGZvcm0gY2xhc3M9XFxcInVwbG9hZEZpbGVDb250YWluZXJcXFwiPlxcblxcblxcbiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XFxcInVwbG9hZGJ0blxcXCIgY2xhc3M9XFxcImlucHV0YnRuXFxcIiBuYW1lPVxcXCJmaWxlXFxcIiB0eXBlPVxcXCJmaWxlXFxcIj5cXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJsYWJlbFVwbG9hZFxcXCIgZm9yPVxcXCJ1cGxvYWRidG5cXFwiPlVwbG9hZCBmaWxlcyBoZXJlPC9sYWJlbD5cXG5cXG4gICAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgXFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cIjsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi51cGxvYWRDb250YWluZXIge1xcblxcblxcbiAgICBtYXJnaW46IGF1dG87XFxuICAgIHdpZHRoOiA0MCU7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnVwbG9hZEZpbGVDb250YWluZXIge1xcbiAgICBtYXJnaW46IDUwcHggYXV0byA1MHB4IGF1dG87XFxuXFxufVxcblxcbiN1cGxvYWRidG4ge1xcbiAgICB3aWR0aDogMC4xcHg7XFxuICAgIGhlaWdodDogMC4xcHg7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgei1pbmRleDogLTE7XFxuICAgIFxcbn1cXG5cXG4jdXBsb2FkYnRuICsgbGFiZWwge1xcbiAgICBmb250LXNpemU6IDEuMjVlbTtcXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gICAgcGFkZGluZzogNXJlbTtcXG4gICAgY29sb3I6ICMzMzMzMzM7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBtYXJnaW46IC4zcmVtIDZyZW07XFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbn1cXG5cXG4jdXBsb2FkYnRuOmZvY3VzICsgbGFiZWwgLCAjdXBsb2FkYnRuICsgbGFiZWw6aG92ZXIge1xcbiAgICBib3JkZXI6IDJweCBkb3R0ZWQgIzFFOTBGRjtcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdXBsb2FkYnRuLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi91cGxvYWRidG4uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi91cGxvYWRidG4uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwicmVxdWlyZSgnLi91cGxvYWRidG4uY3NzJyk7XG5cblxuXG5cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpXG4gICAgLmNvbXBvbmVudCgndXBsb2FkQnRuJywge1xuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi91cGxvYWRidG4uaHRtbCcpLFxuICAgICAgICBjb250cm9sbGVyOiBbJ0NyZWF0ZVNoYXJlU2VydmljZScsIGZ1bmN0aW9uKENyZWF0ZVNoYXJlU2VydmljZSl7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2hhcmUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBsZXQgc2hhcmVOYW1lID0gcHJvbXB0KCdFbnRlciB2YWx1ZSBvZiBzaGFyZSBpdGVtJyk7XG5cbiAgICAgICAgICAgICAgICBDcmVhdGVTaGFyZVNlcnZpY2UuY3JlYXRlU2hhcmUoc2hhcmVOYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XVxuICAgIH0pIiwibW9kdWxlLmV4cG9ydHMgPSBcIlxcblxcblxcbiAgICA8IS0tPGgzPnt7JGN0cmwuaXRlbX19PC9oMz4tLT5cXG4gICAgPGgyIG5nLWJpbmQ9XFxcIiRjdHJsLmRhdGEudGl0bGUgfHwgJGN0cmwuZGF0YS5maWxlc1swXS5maWxlbmFtZVxcXCIgY2xhc3M9XFxcImZpbGVJdGVtLW5hbWVcXFwiPjwvaDI+XFxuICAgIDwhLS0gPGJyPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwiZm9yLXJlbmFtaW5nXFxcIj5Gb3IgcmVuYW1pbmc6IDwvc3Bhbj48aDIgbmctYmluZD1cXFwiICRjdHJsLmRhdGEudGl0bGUgXFxcIiBjbGFzcz1cXFwiZmlsZUl0ZW0tbmFtZVxcXCI+PC9oMj4gLS0+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPCEtLSBXaGVuIHdlIHdhbnQgdG8gdXNlIGZ1bmN0aW9uIGZyb20gdXBwZXIgY29tcG9uZW50IC0gd2UgbmVlZCB0byB1c2Ugb2JqZWN0cyB0byBwYXNzIGFyZ3VtZW50cyBpbnRvIGl0IC0tPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnV0dG9uLXJlbW92ZVxcXCIgbmctY2xpY2s9XFxcIiRjdHJsLnJlbW92ZUZpbGUoe2l0ZW06ICRjdHJsLmRhdGF9KVxcXCI+UmVtb3ZlPC9idXR0b24+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidXR0b24tcmVuYW1lXFxcIiAgbmctY2xpY2s9XFxcIiRjdHJsLnJlbmFtZUZpbGUoe29sZE5hbWU6ICRjdHJsLmRhdGEuc2hhcmVuYW1lfSlcXFwiPlJlbmFtZTwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZmlsZUl0ZW0taW5mb1xcXCI+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcImZpbGVJdGVtLWluZm8tLWxpc3RcXFwiPlxcbiAgICAgICAgICAgIDxsaSBuZy1iaW5kPVxcXCIkY3RybC5kYXRhLmNyZWF0ZWQgfCBkYXRlRmlsdGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgIDxsaSBuZy1iaW5kPVxcXCIkY3RybC5kYXRhLmZpbGVzZWVkIHwgZmlsZUFtb3VudEZpbHRlclxcXCI+PC9saT5cXG4gICAgICAgICAgICA8bGkgbmctYmluZD1cXFwiJGN0cmwuZGF0YS5zaXplQ2FjaGUgfCBzaXplRmlsdGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgIDxsaSBuZy1iaW5kPVxcXCIkY3RybC5kYXRhLmRvd25sb2FkcyArICcgZG93bmxvYWRlZCdcXFwiPjwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPCEtLSBCdXR0b24gZm9yIGluY3JlYXNpbmcgdGhlIG1vYXVudCBvZiBkb3dubG9hZHMgIC0tPlxcbiAgICA8ZGl2ICBjbGFzcz1cXFwiZmlsZVByZXZpZXctY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxhIG5nLWNsaWNrPVxcXCIkY3RybC5kb3dubG9hZGVkRmlsZSgpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIGNsYXNzPVxcXCJmaWxlRG93bmxvYWRcXFwiPkRvd25sb2FkPC9hPlxcbiAgICAgICAgPCEtLSA8YSB1aS1zcmVmPVxcXCJzaGFyZWluZm8oe3NoYXJlbmFtZTogJGN0cmwuZGF0YS5zaGFyZW5hbWV9KVxcXCIgPkRldGFpbHM8L2E+IC0tPlxcbiAgICAgICAgPGEgbmctY2xpY2s9XFxcIiRjdHJsLnNob3dEZXRhaWxzKHtzaGFyZTogJGN0cmwuZGF0YX0pXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIGNsYXNzPVxcXCJmaWxlRGV0YWlsc1xcXCI+RGV0YWlsczwvYT5cXG4gICAgPC9kaXY+XFxuXCI7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYnV0dG9uLXJlbmFtZSB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlO1xcbiAgICBwYWRkaW5nOiA1cHg7XFxuICAgIGZsZXgtYmFzaXM6IDMwJTtcXG4gICAgY29sb3I6ICMzMzMzMzM7XFxuICAgIGZvbnQtc2l6ZTogMXJlbTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4uYnV0dG9uLXJlbW92ZSB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlcmVkO1xcbiAgICBjb2xvcjogIzMzMzMzMztcXG4gICAgZmxleC1iYXNpczogMzAlO1xcbiAgICBwYWRkaW5nOiA1cHg7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbn1cXG5cXG4uYnRuLWNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIG1hcmdpbjogYXV0bztcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcblxcblxcbi5maWxlSXRlbS1pbmZvLS1saXN0IHtcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXG4gICAgbWFyZ2luOiAxMHB4O1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5maWxlSXRlbS1pbmZvLS1saXN0ID4gbGkge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgcGFkZGluZzogMXJlbSAuM3JlbSAuMXJlbSAuM3JlbTtcXG5cXG5cXG4gICAgbWFyZ2luOiBhdXRvO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxLjRyZW07XFxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjY2NjO1xcbn1cXG5cXG5cXG5cXG4uZmlsZVByZXZpZXctY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIG1hcmdpbjogYXV0bztcXG5cXG4gICAgbWluLWhlaWdodDogM3JlbTtcXG4gICAgbWF4LXdpZHRoOiAzcmVtO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuXFxuLmZpbGVQcmV2aWV3IHtcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogNTAlO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcblxcbi5maWxlSXRlbS1uYW1lIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXdlaWdodDogMzAwO1xcbiAgICBmb250LXNpemU6IDEuN3JlbTtcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC4xcmVtO1xcbiAgICBcXG4gICAgbWFyZ2luOiAuNHJlbSBhdXRvIC40cmVtIGF1dG87XFxuICAgIGNvbG9yOiBibGFjaztcXG59XFxuLmZvci1yZW5hbWluZyB7XFxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgICBmb250LXdlaWdodDogNTAwO1xcbn1cXG5cXG4uZm9yLWZpbHRlcmluZyB7XFxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgICBmb250LXdlaWdodDogNTAwO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zaGFyZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2hhcmUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zaGFyZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IFwiXFxuICAgIDxzZWN0aW9uIGNsYXNzPVxcXCJhY2NcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY2MtY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5mby1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVxcXCJhY2MtaGVhZGluZ1xcXCI+WW91ciBhY2NvdW50OjwvaDM+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJhY2MtaW5mb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIG5nLWJpbmQ9XFxcIiRjdHJsLmRhdGEucGxhblxcXCI+PC9oMz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgbmctYmluZD1cXFwiJ0V4cGlyZXM6ICcgKyAkY3RybC5kYXRhLmV4cERhdGVcXFwiPjwvaDQ+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjYy1maWxlUXVhbnRpdHlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBuZy1iaW5kPVxcXCIkY3RybC5kYXRhLmZpbGVRdWFudGl0eSB8IGZpbGVBbW91bnRGaWx0ZXJcXFwiPjwvaDM+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjYy1zcGFjZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIG5nLWJpbmQ9XFxcIiRjdHJsLmRhdGEuc3BhY2VUYWtlbiB8IHNpemVGaWx0ZXJcXFwiPjwvaDM+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIG5nLWJpbmQ9XFxcIiRjdHJsLmRhdGEucGVyY2VudGFnZSB8IHBlcmNlbnRhZ2VGaWx0ZXJcXFwiPjwvaDM+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImFjYy1kb3dubG9hZHNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBuZy1iaW5kPVxcXCIkY3RybC5kYXRhLmRvd25sb2FkZWQgKyAnIGRvd25sb2FkcydcXFwiPjwvaDM+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9zZWN0aW9uPlwiOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmFjY3tcXG5cXG59XFxuXFxuLmFjYy1jb250YWluZXIge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZjJmMmYyLCAjZWVlKTtcXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRncmV5O1xcbiAgICBjbGlwLXBhdGg6IHBvbHlnb24oMCUgMCUsIDEwMCUgMCwgMTAwJSA3NSUsIDUwJSAxMDAlLCAwJSA3NSUpO1xcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDtcXG4gICAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gICAgbWF4LXdpZHRoOiAxNSU7XFxuICAgIGZvbnQtc2l6ZTogMTFweDtcXG5cXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHBhZGRpbmc6IDFyZW0gMCAzcmVtIDA7XFxuICAgIGNvbG9yOiAjMzMzMzMzO1xcblxcbn1cXG5cXG4uY29udGFpbmVyIHtcXG4gICAgd2lkdGg6IDcwJTtcXG4gICAgbWFyZ2luOiBhdXRvO1xcblxcbn1cXG5cXG4uaW5mby1jb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLmFjYy1oZWFkaW5nIHtcXG4gICAgLyptYXJnaW4tYm90dG9tOiAxMHB4OyovXFxuICAgIC8qbWFyZ2luLWxlZnQ6IDJyZW07Ki9cXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDEuM3JlbTtcXG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcXG59XFxuXFxuLmFjYy1pbmZvIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDNyZW07XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICAgIGZvbnQtc2l6ZTogLjhyZW07XFxufVxcblxcbi5hY2MtZmlsZVF1YW50aXR5IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDNyZW07XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbi5hY2Mtc3BhY2Uge1xcbiAgICBtYXJnaW4tbGVmdDogM3JlbTtcXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuLmFjYy1kb3dubG9hZHMge1xcbiAgICBtYXJnaW4tbGVmdDogM3JlbTtcXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYWNjb3VudC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYWNjb3VudC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2FjY291bnQuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwicmVxdWlyZSgnLi9hY2NvdW50LmNzcycpO1xuXG4vL0FjY291bnQgaW5mb3JtYXRpb24gcGFubmVsIGFib3V0IHVzZXJcblxuYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJylcbi5jb21wb25lbnQoJ3N0dWR5QXBwQWNjb3VudCcsIHtcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2FjY291bnQuaHRtbCcpLFxuICAgIGJpbmRpbmdzOiB7XG4gICAgICAgIC8vdG90YWwgZGF0YSBhYm91dCB1c2VyXG4gICAgICAgZGF0YTogJzwnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xuXG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcblxuICAgIH1cblxufSk7XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJtYWluRm9sZGVyQ29udGFpbmVyXFxcIj5cXG5cXG5cXG4gICAgPCEtLSBoZWFkZXIgZm9yIHRoZSBcXFxcZnVsbCBwYWdlIC0tPlxcbiAgICA8c3R1ZHktYXBwLWhlYWRlciB1c2VyPVxcXCIkY3RybC51c2VySW5mby5mdWxsbmFtZVxcXCIgbG9nb3V0PVxcXCIkY3RybC5sb2dvdXQoKVxcXCIgIGxvZ2luPVxcXCIkY3RybC5sb2dpbigpXFxcIj48L3N0dWR5LWFwcC1oZWFkZXI+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImFjYy1maWx0ZXJcXFwiPlxcbiAgICA8IS0tIHVuZm9ybWF0aW9uIGFib3V0IHVzZXItLT5cXG4gICAgPHN0dWR5LWFwcC1hY2NvdW50IG5nLWlmPVxcXCIkY3RybC51c2VySW5mb1xcXCIgZGF0YT1cXFwiJGN0cmwuZGF0YVxcXCI+PC9zdHVkeS1hcHAtYWNjb3VudD5cXG4gICAgPHNlYXJjaC1maWx0ZXIgb24taW5wdXQtY2xlYXI9XFxcIiRjdHJsLm9uSW5wdXRDbGVhcigpXFxcIiBmaWx0ZXJlZC1sZW5ndGg9XFxcIiRjdHJsLmZpbHRlcmVkTGVuZ3RoXFxcIiBuZy1pZj1cXFwiJGN0cmwudXNlckluZm9cXFwiIGZpbHRlcj1cXFwiJGN0cmwuZmlsdGVyXFxcIj48L3NlYXJjaC1maWx0ZXI+XFxuICAgIDwvZGl2PlxcblxcblxcbiAgICA8IS0tIEJ1dHRvbiBmb3IgdXBvbG9hZGluZyBmaWxlcyB0byB0aGUgYXJyYXkgLS0+XFxuICAgIDx1cGxvYWQtYnRuIG5nLWlmPVxcXCIkY3RybC51c2VySW5mb1xcXCI+PC91cGxvYWQtYnRuPlxcblxcbiAgICA8IS0tIGZpbGVzIGdyaWQgd2l0aCBhbGwgdGhlIGZpbGVzIGFjY29yZGluZyB0byB0aGUgYXJyYXkgb2YgZmlsZXMgLS0+XFxuICAgIDxmaWxlLWdyaWRcXG4gICAgICAgICAgICAgICAgb24tZGV0YWlscy1jbGljaz1cXFwiJGN0cmwuc2hhcmVJbmZvcm1hdGlvbihzaGFyZSlcXFwiXFxuICAgICAgICAgICAgICAgIGdldC1maWx0ZXJlZC1sZW5ndGg9XFxcIiRjdHJsLmdldEZpbHRlcmVkTGVuZ3RoKHJlc3VsdHMpXFxcIlxcbiAgICAgICAgICAgICAgICBmaWx0ZXI9XFxcIiRjdHJsLmZpbHRlclxcXCJcXG4gICAgICAgICAgICAgICAgbmctaWY9XFxcIiRjdHJsLnVzZXJJbmZvXFxcIlxcbiAgICAgICAgICAgICAgICBkb3dubG9hZGVkLWZpbGU9XFxcIiRjdHJsLmRvd25sb2FkZWRJdGVtXFxcIlxcbiAgICAgICAgICAgICAgIHJlbW92ZS1maWxlPVxcXCIkY3RybC5yZW1vdmVJdGVtKGl0ZW0pXFxcIlxcbiAgICAgICAgICAgICAgIHJlbmFtZS1maWxlPVxcXCIkY3RybC5yZW5hbWVTaGFyZShvbGROYW1lKVxcXCJcXG4gICAgICAgICAgICAgICBmaWxlLWxpc3Q9XFxcIiRjdHJsLmZpbGVzQXJyYXlcXFwiPlxcbiAgICAgICAgICAgICAgICA8IS0tcmVuYW1lLXNoYXJlPVxcXCIkY3RybC5yZW5hbWVTaGFyZShvbGROYW1lKVxcXCItLT5cXG4gICAgPC9maWxlLWdyaWQ+XFxuXFxuICAgIDxmaWxlLWRldGFpbHMgc2hhcmUtZGV0YWlscz1cXFwiJGN0cmwuc2hhcmVEZXRhaWxzXFxcIiAgbmctaWY9XFxcIiRjdHJsLnNoYXJlRGV0YWlsc1xcXCI+PC9maWxlLWRldGFpbHM+XFxuPC9kaXY+XCI7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYWNjLWZpbHRlciB7XFxuXFxufVxcblxcbiosICo6OmJlZm9yZSwgKjo6YWZ0ZXIge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmJvZHkge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYWluZm9sZGVyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYWluZm9sZGVyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbmZvbGRlci5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJyZXF1aXJlKCcuL21haW5mb2xkZXIuY3NzJyk7XG5cbi8qIE1haW4gY29udGFpbmVyIHdyYXBwZXIgb2YgYWxsIHNoYXJlLXJlbGF0ZWQgZGF0YSAqL1xuYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJylcbiAgICAuY29tcG9uZW50KCdtYWluRm9sZGVyJywge1xuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9tYWluZm9sZGVyLmh0bWwnKSxcbiAgICAgICAgYmluZGluZ3M6IHtcbiAgICAgICAgICAgIGl0ZW1zOiAnPSdcbiAgICAgICAgfSxcbiAgICAgICAgLy9oZXJlIGluamVjdGlvbiBvZiBzZXJ2aWNlczogdG8gZ2V0IERhdGEgd2l0aCBzaGFyZSBpdGVtcyBhbmQgZ2V0IGRhdGEgYWJvdXQgdXNlclxuICAgICAgICBjb250cm9sbGVyOiBbJ1JlbW92ZVNoYXJlJywgJ1JlbmFtZVNoYXJlJywgJ1NoYXJlSXRlbVNlcnZpY2UnLCAnQXV0aFNlcnZpY2UnLCAnTG9naW5TZXJ2aWNlJywgJ1NoYXJlc1NlcnZpY2UnLCBmdW5jdGlvbiAoUmVtb3ZlU2hhcmUsIFJlbmFtZVNoYXJlLCBTaGFyZUl0ZW1TZXJ2aWNlLCBBdXRoU2VydmljZSwgTG9naW5TZXJ2aWNlLCBTaGFyZXNTZXJ2aWNlKSB7XG5cblxuXG4gICAgICAgICAgICB2YXIgY3RybCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9ICcnO1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zaGFyZURldGFpbHMgPSAnJztcblxuICAgICAgICAgICAgLy9BQ0NPVU5UIERBVEEgLSBOT1QgVE8gU0hPVyBPTiBJTklUSUFMSVNBVElPTiEhIVxuICAgICAgICAgICAgdGhpcy5kYXRhID0ge1xuICAgICAgICAgICAgICAgIHBsYW46ICcnLFxuICAgICAgICAgICAgICAgIGV4cERhdGU6ICduZXZlcicsXG4gICAgICAgICAgICAgICAgZmlsZVF1YW50aXR5OiAwLFxuICAgICAgICAgICAgICAgIHNwYWNlVGFrZW46IDAsXG4gICAgICAgICAgICAgICAgZG93bmxvYWRlZDogMCxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAwLjAwLFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0VtcHR5IGZpbHRlciBpbnB1dCBcbiAgICAgICAgICAgIHRoaXMub25JbnB1dENsZWFyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjdHJsLmZpbHRlciA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIFxuXG5cbiAgICAgICAgICAgIC8vRm9yIGZpbHRlcmluZyB0aGUgYXJyYXkgb2Ygc2hhcmUtaXRlbXNcbiAgICAgICAgICAgIHRoaXMub25GaWx0ZXJDaGFuZ2UgPSBmdW5jdGlvbihmaWx0ZXIpe1xuXG5cbiAgICAgICAgICAgICAgICBjdHJsLmZpbHRlclZhbHVlID0gZmlsdGVyO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZW5ndGgnICsgY3RybC5maWxlc0FycmF5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9GdW5jdGlvbiBmb3IgcmVuYW1pbmcgc2hhcmUgaXRlbSBXT1JLU1xuICAgICAgICAgICAgdGhpcy5yZW5hbWVTaGFyZSA9IGZ1bmN0aW9uKG9sZE5hbWUpe1xuICAgICAgICAgICAgICAgIHZhciBuZXdOYW1lID0gcHJvbXB0KCdFbnRlciBuZXcgdmFsdWUgb2YgdGhlIGZvbGxvd2luZyBzaGFyZSBpdGVtIHBsZWFzZScpO1xuXG4gICAgICAgICAgICAgICAgUmVuYW1lU2hhcmUucmVuYW1lU2hhcmUob2xkTmFtZSwgbmV3TmFtZSwgY3RybC5hY2Nlc3NUb2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3RybC5maWxlc0FycmF5LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmlkID09IGRhdGEuZGF0YS5pZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5maWxlc0FycmF5W2luZGV4XS50aXRsZSA9IGRhdGEuZGF0YS50aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAvL0xPR0dJTkcgVVNFUlxuICAgICAgICAgICAgdGhpcy5sb2dpbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgLy9EQVRBIEFCT1VUIFVTRVIgQVVUSEVOVElDQVRFRFxuICAgICAgICAgICAgICAgIExvZ2luU2VydmljZS5sb2dpbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuYWNjZXNzVG9rZW4gPSBkYXRhLmRhdGEuYWNjZXNzdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5hY2Nlc3N0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjdHJsLnVzZXJOYW1lID0gZGF0YS5kYXRhLnVzZXIuZnVsbG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwudXNlckluZm8gPSBkYXRhLmRhdGEudXNlcjtcblxuICAgICAgICAgICAgICAgICAgICAvL0NBUElUQUxJU0lORyBBQ0NPVU5UIFRZUEUgIFNUUklOR1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGxhbiA9IFN0cmluZyhkYXRhLmRhdGEudXNlci50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5kYXRhLnBsYW4gPSBwbGFuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGxhbi5zbGljZSgxKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIC8vUkVDRUlWSU5HIERBVEEgQUJPVVQgQUxMIFNIQVJFU1xuICAgICAgICAgICAgICAgICAgICBTaGFyZUl0ZW1TZXJ2aWNlLmdldFNoYXJlcyhjdHJsLmFjY2Vzc1Rva2VuKS50aGVuKGZ1bmN0aW9uIChpdGVtcykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmZpbGVzQXJyYXkgPSBpdGVtcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihzaGFyZSkge1xuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9QQVNTSU5HIEFNT1VOVCBPRiBET1dOTE9BRFMgSU5UTyBBQ0NPVU5UIElORk9STUFUSU9OXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG93bmxvYWRBbW91bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmUuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRBbW91bnQgKz0gaXRlbS5kb3dubG9hZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5kYXRhLmRvd25sb2FkZWQgPSBkb3dubG9hZEFtb3VudDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BBU1NJTkcgVE9UQUwgU0laRSBPRiBBTEwgRklMRVMgSU5UTyBBQ0NPVU5UIElORk9STUFUSU9OXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxTaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFNpemUgKz0gaXRlbS5zaXplQ2FjaGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmRhdGEuc3BhY2VUYWtlbiA9IHRvdGFsU2l6ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9QQVNTSU5HIFRPVEFMIEFNT1VOVCBPRiBGSUxFUyBJTlRPIEFDQ09VTlQgSU5GT1JNQVRJT05cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbEZpbGVzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEZpbGVzICs9IGl0ZW0uZmlsZXNlZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmRhdGEuZmlsZVF1YW50aXR5ID0gdG90YWxGaWxlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9QQVNTSU5HIFBFUkNFTlRBR0UgSU5UTyBBQ0NPVU5UIElORk9STUFUSU9OXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdHJsLmRhdGEucGVyY2VudGFnZSA9ICh0b3RhbFNpemUvMjUwMDAwMCkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuZGF0YS5wZXJjZW50YWdlID0gdG90YWxTaXplO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuXG5cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL0ZvciBkZXRhaWxzIHRvIHRoZSBkZXRhaWxzIGFib3V0IHNoYXJlIGNvbXBvbmVudFxuICAgICAgICAgICAgdGhpcy5zaGFyZUluZm9ybWF0aW9uID0gZnVuY3Rpb24oc2hhcmUpe1xuICAgICAgICAgICAgICAgIGN0cmwuc2hhcmVEZXRhaWxzID0gc2hhcmU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2hhcmUpO1xuICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgLy9MT0dHSU5HIE9VVCBVU0VSXG4gICAgICAgICAgICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY3RybC51c2VySW5mbyA9ICcnO1xuICAgICAgICAgICAgICAgIGN0cmwuc2hhcmVEZXRhaWxzID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vUkVNT1ZJTkcgSVRFTSBGUk9NIFRIRSBTRVJWRVJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uKGl0ZW0pe1xuXG5cblxuICAgICAgICAgICAgICAgIC8vUkVNT1ZJTkcgU0hBUkUgSVRFTSBGUk9NIFRIRSBTRVJWRVJcbiAgICAgICAgICAgICAgICBSZW1vdmVTaGFyZS5yZW1vdmVTaGFyZShpdGVtLnNoYXJlbmFtZSwgY3RybC5hY2Nlc3NUb2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcblxuICAgICAgICAgICAgICAgICAgICAvL1VwZGF0aW5nIGZpbGUgcXVhbnRpdHkgaW4gQUNDT1VOVCBJTkZPXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZGF0YS5maWxlUXVhbnRpdHkgLT0gaXRlbS5maWxlc2VlZDtcblxuICAgICAgICAgICAgICAgICAgICAvL3VwZGF0aW5nIHNwYWNlIHRha2VuIGluIEFDQ09VTlQgSU5GT1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmRhdGEuc3BhY2VUYWtlbiAtPSBpdGVtLnNpemVDYWNoZTtcblxuICAgICAgICAgICAgICAgICAgICAvL3VwZGF0aW5nIHBlcmNlbnRhZ2UgaW4gQUNDT1VOVCBJTkZPXG4gICAgICAgICAgICAgICAgICAgIC8vIGN0cmwuZGF0YS5wZXJjZW50YWdlID0gKGN0cmwuZGF0YS5zcGFjZVRha2VuIC8gMjUwMDAwMCkudG9GaXhlZCgyKTtcblxuICAgICAgICAgICAgICAgICAgICBjdHJsLmRhdGEucGVyY2VudGFnZSA9IGN0cmwuZGF0YS5zcGFjZVRha2VuO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzo6ICBIRVJFIEZJWCBORUVERURcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuXG4gICAgICAgICAgICAgICAgICAgIC8vUkVDRUlWSU5HIFVQREFURUQgTElTVCBPRiBTSEFSRVMgRlJPTSBTRVJWRVIgVE9ETzo6IFNob3VsZG4ndCBzZW5kIHNlY29uZCByZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIFNoYXJlSXRlbVNlcnZpY2UuZ2V0U2hhcmVzKGN0cmwuYWNjZXNzVG9rZW4pLnRoZW4oZnVuY3Rpb24gKGl0ZW1zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuZmlsZXNBcnJheSA9IGl0ZW1zLmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIC8vSU5DUkVBU0UgVEhFIERPV05MT0FEUyBBTU9VTlQgQlkgT05FXG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkZWRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3RybC5kYXRhLmRvd25sb2FkZWQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XVxuICAgIH0pIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxoZWFkZXI+XFxuICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXJcXFwiPlxcbiAgICA8bmF2IGNsYXNzPVxcXCJuYXYtY29udGFpbmVyXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJsaXN0LWNvbnRhaW5lclxcXCI+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdi1saXN0XFxcIj5cXG5cXG4gICAgICAgICAgPGxpIG5nLWNsaWNrPVxcXCIkY3RybC5sb2dnZ2luKClcXFwiIGNsYXNzPVxcXCJuYXYtYnRuXFxcIj5Ib21lPC9saT5cXG5cXG4gICAgICAgICAgPCEtLSBFbGVtZW50IHNob3duIGlmIHVzZXIgaXMgYXV0aGVuY3RpY2F0ZWQgLS0+XFxuICAgICAgICAgIDxsaSBuZy1pZj1cXFwiJGN0cmwudXNlclxcXCIgY2xhc3M9XFxcIm5hdi1idG5cXFwiIG5nLWJpbmQ9XFxcIiRjdHJsLnVzZXJcXFwiPjwvbGk+XFxuICAgICAgICAgIDxsaSBuZy1pZj1cXFwiISRjdHJsLnVzZXJcXFwiIGNsYXNzPVxcXCJuYXYtYnRuXFxcIiBuZy1jbGljaz1cXFwiJGN0cmwubG9naW4oKVxcXCI+TG9nIEluPC9saT5cXG5cXG5cXG4gICAgICAgICAgPGxpIGNsYXNzPVxcXCJuYXYtYnRuXFxcIiBuZy1pZj1cXFwiJGN0cmwudXNlclxcXCIgbmctY2xpY2s9XFxcIiRjdHJsLmxvZ291dCgpXFxcIj5Mb2dvdXQ8L2xpPlxcblxcblxcblxcbiAgICAgICAgPC91bD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9uYXY+XFxuICA8L2Rpdj5cXG5cXG48L2hlYWRlcj5cIjsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbioge1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBtYXJnaW46IDA7XFxuICAgIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5oZWFkZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzO1xcbn1cXG5cXG5cXG5cXG4ubmF2LWNvbnRhaW5lcntcXG4gICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4ubmF2LWxpc3Qge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5uYXYtYnRuIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuXFxuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xcblxcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xcbiAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgdHJhbnNwYXJlbnQ7XFxufVxcblxcbi5uYXYtYnRuOmhvdmVyLCAubmF2LWJ0bjphY3RpdmUge1xcbiAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2VlZTtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9oZWFkZXIuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2hlYWRlci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2hlYWRlci5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJyZXF1aXJlKCcuL2hlYWRlci5jc3MnKTtcblxuLy9IZWFkZXIgcGFubmVsXG5cblxuYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJylcbiAgICAuY29tcG9uZW50KCdzdHVkeUFwcEhlYWRlcicsIHtcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vaGVhZGVyLmh0bWwnKSxcbiAgICAgICAgYmluZGluZ3M6IHtcbiAgICAgICAgICB1c2VyOiAnPCcsXG4gICAgICAgICAgICBsb2dvdXQ6ICcmJyxcbiAgICAgICAgICAgIGxvZ2luOiAnJidcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjpbJ0xvZ2luU2VydmljZScsICBmdW5jdGlvbiAoTG9naW5TZXJ2aWNlKSB7XG5cbiAgICAgICAgICAgIHRoaXMubG9nZ2dpbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgTG9naW5TZXJ2aWNlLmxvZ2luKCkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XVxuICAgIH0pOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZpbHRlclxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZmlsdGVyX19oZWFkaW5nXFxcIj5cXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzPVxcXCJmaWx0ZXJfX2hlYWRpbmctbXNnXFxcIj5TZWFyY2ggeW91ciBmaWxlczwvaDM+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZmlsdGVyX19pbnB1dFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFwiZmlsdGVyX19pbnB1dC1maWVsZFxcXCIgcGxhY2Vob2xkZXI9XFxcIkVudGVyIHNlYXJjaCB2YWx1ZSBoZXJlLi4uXFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwuZmlsdGVyXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICAgICA8IS0tbmctY2hhbmdlPVxcXCIkY3RybC5maWx0ZXIoJGN0cmwuZmlsdGVyVmFsdWUpXFxcIiAtLT5cXG5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IG5nLXNob3c9XFxcIiRjdHJsLmZpbHRlclxcXCIgY2xhc3M9XFxcImZpbHRlcl9faW5mb1xcXCI+XFxuICAgICAgICAgICAgICAgIDwhLS0gPGg0IGNsYXNzPVxcXCJmaWx0ZXJfX2luZm8tY29pbmNpZGVuY2VzXFxcIj48c3BhbiBuZy1iaW5kPVxcXCIkY3RybC5maWx0ZXJlZExlbmd0aFxcXCI+PC9zcGFuPiBtYXRjaGVzPC9oND4gLS0+XFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJmaWx0ZXJfX2luZm8tY2xlYXJcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcIiRjdHJsLm9uSW5wdXRDbGVhcigpXFxcIj5DbGVhcjwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L3NlY3Rpb24+XCI7IiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5maWx0ZXJ7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBtYXJnaW46IGF1dG87XFxuICAgIHdpZHRoOiA1MCU7XFxufVxcblxcbi5maWx0ZXJfX2hlYWRpbmd7XFxuICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcXG59XFxuXFxuLmZpbHRlcl9faGVhZGluZy1tc2cge1xcbiAgICBjb2xvcjogIzMzMzMzMztcXG4gICAgZm9udC1zaXplOiAzMHB4O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGxldHRlci1zcGFjaW5nOiAuMXJlbTtcXG59XFxuXFxuLmZpbHRlcl9faW5wdXQge1xcblxcbn1cXG5cXG5pbnB1dFt0eXBlPVxcXCJ0ZXh0XFxcIl0sIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXTpmb2N1cyB7XFxuICAgIGZvbnQtc2l6ZTogMjBweDtcXG4gICAgYm9yZGVyLXN0eWxlOiBkb3VibGU7XFxuICAgIGJvcmRlci1jb2xvcjogIzFlYmZmZjsgXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB3aWR0aDogODAlO1xcbiAgICBtYXJnaW46IGF1dG87XFxuICAgIGhlaWdodDogMnJlbTtcXG4gICAgXFxuICAgIG91dGxpbmU6IG5vbmU7XFxuICAgIHBhZGRpbmctbGVmdDogMXJlbTtcXG4gICAgYm9yZGVyLXdpZHRoOiAwIDAgM3B4IDA7XFxufVxcblxcbi5maWx0ZXJfX2luZm8ge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xcbiAgICBtYXJnaW46IDFyZW0gYXV0byAycmVtIGF1dG87XFxuICAgIHdpZHRoOiA4MCU7XFxuICAgIFxcbn1cXG5cXG4uZmlsdGVyX19pbmZvLWNvaW5jaWRlbmNlc3tcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbn1cXG5cXG4uZmlsdGVyX19pbmZvLWNsZWFyIHtcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zZWFyY2gtZmlsdGVyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zZWFyY2gtZmlsdGVyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2VhcmNoLWZpbHRlci5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJyZXF1aXJlKCcuL3NlYXJjaC1maWx0ZXIuY3NzJyk7XG5cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpXG4gICAgLmNvbXBvbmVudCgnc2VhcmNoRmlsdGVyJywge1xuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9zZWFyY2gtZmlsdGVyLnRlbXBsYXRlLmh0bWwnKSxcbiAgICAgICAgYmluZGluZ3M6IHtcbiAgICAgICAgICAgIGZpbHRlcjogJz0nLFxuICAgICAgICAgICAgZmlsdGVyZWRMZW5ndGg6ICc8JyxcbiAgICAgICAgICAgIG9uSW5wdXRDbGVhcjogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIFxuXG5cblxuICAgICAgICAgICAgLy8gdGhpcy5vbkZpbHRlckNoYW5nZXMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gICAgIHJldHVyblxuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgfSkiLCJjbGFzcyBBdXRoU2VydmljZSB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcbiAgICB9XG5cbiAgICAvKiBGZXRjaCB1c2VyIGRhdGEgYWZ0ZXIgbG9naW4gICovXG4gICAgZ2V0VXNlcihhY2Nlc3NUb2tlbil7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybDogYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8xL3VzZXJzL21lP2FjY2Vzc3Rva2VuPSR7YWNjZXNzVG9rZW59YFxuICAgICAgICB9KVxuICAgIH1cbn1cblxuXG4vL2luamVjdGluZyAkaHR0cCBzZXJ2aWNlIGZvciBmZXRjaGluZyBkYXRhIGFib3V0IHVzZXIgYXV0aGVudGljYXRpb25cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpLnNlcnZpY2UoJ0F1dGhTZXJ2aWNlJywgWyckaHR0cCcsIEF1dGhTZXJ2aWNlXSk7IiwiY2xhc3MgRGF0YVNlcnZpY2Uge1xuXG4gICAgLy9pbnNlcnRpbmcgZGVwZW5kZW5jeSBpbnRvIGNvbnN0cnVjdG9yXG4gICAgY29uc3RydWN0b3IoJHEpe1xuICAgICAgICB0aGlzLnEgPSAkcTtcbiAgICB9XG5cbiAgICAvKiBGdW5jdGlvbiBmb3IgcmVjZWl2aW5nIGRhdGEgKi9cbiAgICBnZXRTaGFyZXMoKSB7XG5cbiAgICAgICAgLy8kcSBhbGxvd3MgdXMgdG8gcGFzcyBcImFuZ3VsYXIgcHJvbWlzZVwiIC0gc28gd2UgZG9udCBuZWVkIHRvIHdyaXRlICRzY29wZS4kYXBwbHlcbiAgICByZXR1cm4gdGhpcy5xKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtcbiAgICAgICAgcmVzb2x2ZShbXG4gICAgICAgICAgICB7bmFtZTogJ0R1bW15IDInLCBkYXRlQ3JlYXRlZDogbmV3IERhdGUoKSwgaW5uZXJGaWxlczogMywgZmlsZVNpemU6IDU2MC4wLCBkb3dubG9hZGVkVGltZXM6IDJ9LFxuICAgICAgICAgICAge25hbWU6ICdEdW1teSAzJywgZGF0ZUNyZWF0ZWQ6IG5ldyBEYXRlKCksIGlubmVyRmlsZXM6IDgsIGZpbGVTaXplOiAxNy4wLCBkb3dubG9hZGVkVGltZXM6IDN9LFxuICAgICAgICAgICAge25hbWU6ICdEdW1teSA0JywgZGF0ZUNyZWF0ZWQ6IG5ldyBEYXRlKCksIGlubmVyRmlsZXM6IDEsIGZpbGVTaXplOiA5LjAsIGRvd25sb2FkZWRUaW1lczogMX1cbiAgICAgICAgXSlcbiAgICB9KVxuXG5cbiAgICB9XG59XG5cblxuLy9pbmplY3RpbmcgZGVwZW5kZW5jaWVzIGluIHNxdWFyZSBicmFja2V0cy4gJHEgPT4gZGVwZW5kZW5jeSBha2EgYW5ndWxhci1Qcm9taXNlXG5hbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKS5zZXJ2aWNlKCdTaGFyZXNTZXJ2aWNlJywgWyckcScsIERhdGFTZXJ2aWNlXSk7IiwiY2xhc3MgU2hhcmVJdGVtU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcbiAgICB9XG5cbiAgICBnZXRTaGFyZXMoYWNjZXNzVG9rZW4pe1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6IGBodHRwOi8vbG9jYWxob3N0OjgwODAvMS9zaGFyZXM/YWNjZXNzdG9rZW49JHthY2Nlc3NUb2tlbn1gXG4gICAgICAgIH0pO1xuXG5cbiAgICB9XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpLnNlcnZpY2UoJ1NoYXJlSXRlbVNlcnZpY2UnLCBbJyRodHRwJywgU2hhcmVJdGVtU2VydmljZV0pOyIsImNsYXNzIExvZ2luU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcbiAgICB9XG5cbiAgICBsb2dpbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwLzEvdXNlcnMvbG9naW4nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFwiZW1haWxcIjpcImphY2tzdGVyd293QGdtYWlsLmNvbVwiLCAvLyB0aGUgdXNlcnMgZW1haWxcbiAgICAgICAgICAgICAgICBcInBhc3N3b3JkXCI6XCJxd2UyMDAwMjAwMDIwMDBcIiAvLyB0aGUgdXNlcnMgcGFzc3dvcmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpLnNlcnZpY2UoJ0xvZ2luU2VydmljZScsIFsnJGh0dHAnLCBMb2dpblNlcnZpY2VdKVxuXG4iLCJjbGFzcyBSZW5hbWVTaGFyZSB7XG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcbiAgICB9XG5cbiAgICByZW5hbWVTaGFyZShzaGFyZW5hbWUsIG5ld05hbWUsIGFjY2Vzc1Rva2VuKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIHVybCA6IGBodHRwOi8vbG9jYWxob3N0OjgwODAvMS9zaGFyZXMvJHtzaGFyZW5hbWV9L3VwZGF0ZT9hY2Nlc3N0b2tlbj0ke2FjY2Vzc1Rva2VufWAsXG4gICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgIFwidGl0bGVcIiA6IG5ld05hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpLnNlcnZpY2UoJ1JlbmFtZVNoYXJlJywgWyckaHR0cCcsIFJlbmFtZVNoYXJlXSk7IiwiY2xhc3MgUmVtb3ZlU2hhcmV7XG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cFxuICAgIH1cblxuICAgIHJlbW92ZVNoYXJlKHNoYXJlTmFtZSwgYWNjZXNzVG9rZW4pe1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDo4MDgwLzEvc2hhcmVzLyR7c2hhcmVOYW1lfS9kZXN0cm95P2FjY2Vzc3Rva2VuPSR7YWNjZXNzVG9rZW59YFxuICAgICAgICB9KVxuICAgIH1cbn1cblxuYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJykuc2VydmljZSgnUmVtb3ZlU2hhcmUnLCBbJyRodHRwJywgUmVtb3ZlU2hhcmVdKTsiLCJjbGFzcyBDcmVhdGVTaGFyZVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCRodHRwKXtcbiAgICAgICAgdGhpcy5odHRwID0gJGh0dHA7XG4gICAgfVxuXG4gICAgY3JlYXRlU2hhcmUoc2hhcmVuYW1lKXtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiBgaHR0cDovL2xvY2FsaG9zdDo4MDgwLzEvc2hhcmVzL2NyZWF0ZT9hY2Nlc3N0b2tlbj1hLjAudXNlci1KN2tVQkFiblZ6T2RlbmRlbFh1MUI4UnBmWEpMaElXdUZOem9DLS4xNTIwNjgwNDU1LmE1NzJmODA3NGUzMWRjZjE0YTI1ZmZhZDVmOWRkM2I5ZmZhNjhiMDBgLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogYCR7c2hhcmVuYW1lfWAgLy8gT3B0aW9uYWwgdGl0bGUgb2YgdGhlIHNoYXJlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cblxuYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJykuc2VydmljZSgnQ3JlYXRlU2hhcmVTZXJ2aWNlJywgWyckaHR0cCcsIENyZWF0ZVNoYXJlU2VydmljZV0pOyIsIi8vRklMVEVSUyBBUlJBWSBPRiBTSEFSRVMgQlkgUEFTU0VEIFZBTFVFXG5cbmFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcpXG4gICAgLmZpbHRlcignc2hhcmVOYW1lRmlsdGVyJywgZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW1zLCBmaWx0ZXIpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbXMpO1xuICAgICAgICAgICAgaWYoaXRlbXMpe1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAvL0lmIHNoYXJlIGl0ZW0gaGFzIHRpdGxlXG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zW2ldLnRpdGxlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zW2ldLnRpdGxlLmluZGV4T2YoZmlsdGVyKSAhPSAtMSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQucHVzaChpdGVtc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL0lmIHNoYXJlIGl0ZW0gZG9lc24ndCBoYXZlIHRpdGxlIC0gd2UgdGFrZSBpdCdzIGlubmVyIGZpbGUncyBuYW1lXG4gICAgICAgICAgICAgICAgICAgIGlmKCFpdGVtc1tpXS50aXRsZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtc1tpXS5maWxlc1swXS5maWxlbmFtZS5pbmRleE9mKGZpbHRlcikgIT0gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2goaXRlbXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgICAgICAgICAgXG5cbiAgICAgICAgfVxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKVxuICAgIC5maWx0ZXIoJ3NpemVGaWx0ZXInLCBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIFxuICAgICAgICAgICAgbGV0IHBhcnNlZCA9IHBhcnNlSW50KGl0ZW0pO1xuICAgICAgICAgICAgbGV0IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgaWYocGFyc2VkIDwgMTAwMDAwMCl7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBpdGVtICsgJyBLQic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwYXJzZWQgPiAxMDAwMDAwKXtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IChwYXJzZWQgLyAxMDAwMDAwKS50b0ZpeGVkKDIpICsgJyBNQic7IFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKVxuICAgIC5maWx0ZXIoJ3BlcmNlbnRhZ2VGaWx0ZXInLCBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICByZXR1cm4gKHBhcnNlSW50KGl0ZW0pLzI1MDAwMDApLnRvRml4ZWQoMikgKyAnJSBvZiAyNTBNQicgO1xuICAgICAgICB9XG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKVxuICAgIC5maWx0ZXIoJ2RhdGVGaWx0ZXInLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbkRhdGUgPSBuZXcgRGF0ZShkYXRhKjEwMDApO1xuICAgICAgICAgICAgICAgIGxldCBkYXlzID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1cicsICdGcmknLCAnU2F0J107XG4gICAgICAgICAgICAgICAgbGV0IGRheUluZGV4ID0gb3JpZ2luRGF0ZS5nZXREYXkoKTtcbiAgICAgICAgICAgICAgICBsZXQgZGF5ID0gZGF5c1tkYXlJbmRleF07XG4gICAgICAgICAgICAgICAgbGV0IGRhdGUgPSBvcmlnaW5EYXRlLmdldERhdGUoKTtcbiAgICAgICAgICAgICAgICBsZXQgbW9udGhzPVsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcbiAgICAgICAgICAgICAgICBsZXQgbW9udGhJbmRleCA9IG9yaWdpbkRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgICAgICBsZXQgbW9udGggPSBtb250aHNbbW9udGhJbmRleF07XG4gICAgICAgICAgICAgICAgbGV0IHllYXIgPSBvcmlnaW5EYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2RheX0gJHttb250aH0gJHtkYXRlfSwgJHt5ZWFyfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ3N0dWR5QXBwJylcbiAgICAuZmlsdGVyKCdmaWxlQW1vdW50RmlsdGVyJywgZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICAgICAgaWYoaXRlbSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2l0ZW19IGZpbGVgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaXRlbSA+IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aXRlbX0gZmlsZXNgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkiLCJcbi8vRElSRUNUSVZFIEZPUiBFWEVDVVRJTkcgRlVOQ1RJT04gV0hFTiBORy1SRVBFQVQgSVMgRE9ORVxuXG5hbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKVxuICAgIC5kaXJlY3RpdmUoJ2FmdGVyUmVwZWF0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoJyRkZXN0cm95JywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGlmKHNjb3BlLiRsYXN0KXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMuYWZ0ZXJSZXBlYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KSIsImNsYXNzIGdldFNoYXJlU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcbiAgICB9XG5cbiAgICBnZXRTaGFyZShzaGFyZW5hbWUpe1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6IGBodHRwOi8vbG9jYWxob3N0OjgwODAvMS9zaGFyZXMvJHtzaGFyZW5hbWV9YFxuICAgICAgICB9KVxuICAgIH1cbn1cblxuXG5hbmd1bGFyLm1vZHVsZSgnc3R1ZHlBcHAnKS5zZXJ2aWNlKFsnJGh0dHAnLCAnZ2V0U2hhcmVTZXJ2aWNlJywgZ2V0U2hhcmVTZXJ2aWNlXSk7IiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdzdHVkeUFwcCcsIFsndWkucm91dGVyJ10pO1xuXG5hcHAuY29uZmlnKFsnJHVybFJvdXRlclByb3ZpZGVyJywgJyRzdGF0ZVByb3ZpZGVyJywgKCR1cmxSb3V0ZXJQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIgKSA9PiB7XG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnJyk7XG5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAuc3RhdGUoe1xuICAgICAgICAgICAgbmFtZTogJ2hvbWUnLFxuICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxtYWluLWZvbGRlcj48L21haW4tZm9sZGVyPidcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6ICdkZXRhaWxzJyxcbiAgICAgICAgICAgIHVybDogJy9hY2NvdW50LWRldGFpbHMnLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8c3R1ZHktYWNjb3VudC1kZXRhaWxzPjwvc3R1ZHktYWNjb3VudC1kZXRhaWxzPidcbiAgICAgICAgfSlcbiAgICAgICAgLnN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6ICdzaGFyZWluZm8nLFxuICAgICAgICAgICAgdXJsOiAnLzpzaGFyZW5hbWUnLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZmlsZS1kZXRhaWxzPjwvZmlsZS1kZXRhaWxzPicsXG4gICAgICAgICAgICAvLyByZXNvbHZlOiB7XG4gICAgICAgICAgICAvLyAgICAgc2hhcmVEZXRhaWxzOiBbJyRzdGF0ZVBhcmFtcycsICdnZXRTaGFyZVNlcnZpY2UnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIGdldFNoYXJlU2VydmljZSl7XG4gICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBnZXRTaGFyZVNlcnZpY2UuZ2V0U2hhcmUoJHN0YXRlUGFyYW1zLnNoYXJlbmFtZSk7XG4gICAgICAgICAgICAvLyAgICAgfV1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIFxuXG59XSlcblxuXG5yZXF1aXJlKCcuL3NlcnZpY2VzL2dldFNoYXJlSW5mby5zZXJ2aWNlJyk7XG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvYWZ0ZXJSZXBlYXQuZGlyZWN0aXZlJyk7XG5yZXF1aXJlKCcuL2ZpbHRlcnMvZmlsZUFtb3VudEZpbHRlci5maWx0ZXInKTtcbnJlcXVpcmUoJy4vZmlsdGVycy9kYXRlRmlsdGVyLmZpbHRlcicpO1xucmVxdWlyZSgnLi9maWx0ZXJzL3BlcmNlbnRhZ2VGaWx0ZXIuZmlsdGVyJyk7XG5yZXF1aXJlKCcuL2ZpbHRlcnMvc2l6ZUZpbHRlci5maWx0ZXInKTtcbnJlcXVpcmUoJy4vZmlsdGVycy9zaGFyZU5hbWVGaWx0ZXIuZmlsdGVyJyk7XG5yZXF1aXJlKCcuL3NlcnZpY2VzL2NyZWF0ZVNoYXJlLnNlcnZpY2UnKTtcbnJlcXVpcmUoJy4vc2VydmljZXMvcmVtb3ZlU2hhcmUuc2VydmljZScpO1xucmVxdWlyZSgnLi9zZXJ2aWNlcy9yZW5hbWVTaGFyZS5zZXJ2aWNlLmpzJyk7XG5yZXF1aXJlKCcuL3NlcnZpY2VzL2xvZ2luLnNlcnZpY2UuanMnKTtcbnJlcXVpcmUoJy4vc2VydmljZXMvc2hhcmVzLnNlcnZpY2UuanMnKTtcbnJlcXVpcmUoJy4vc2VydmljZXMvZGF0YS5zZXJ2aWNlJyk7XG5yZXF1aXJlKCcuL3NlcnZpY2VzL2F1dGguc2VydmljZScpO1xucmVxdWlyZSgnLi9jb21wb25lbnRzL3NlYXJjaC1maWx0ZXIvc2VhcmNoLWZpbHRlci5jb21wb25lbnQuanMnKTtcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudCcpO1xucmVxdWlyZSgnLi9jb21wb25lbnRzL21haW5mb2xkZXIvbWFpbmZvbGRlci5jb21wb25lbnQnKTtcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9hY2NvdW50L2FjY291bnQuY29tcG9uZW50Jyk7XG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvc2hhcmUvc2hhcmUuY29tcG9uZW50Jyk7XG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvdXBsb2FkYnRuL3VwbG9hZGJ0bi5jb21wb25lbnQnKTtcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9zaGFyZS1jb250YWluZXIvc2hhcmUtY29udGFpbmVyLmNvbXBvbmVudCcpO1xucmVxdWlyZSgnLi9jb21wb25lbnRzL2FjY291bnQtZGV0YWlscy9hY2NvdW50LWRldGFpbHMuY29tcG9uZW50Jyk7XG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZmlsZWRldGFpbHMvZmlsZWRldGFpbHMuY29tcG9uZW50Jyk7XG5cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=